# zapret-linux86_64
updated fork for linux86_64 of https://github.com/Sergeydigl3/zapret-discord-youtube-linux

--------------------------------------------------------------------------------------------------

Заранее говорю делалось на скороую руку для себя и сделано не очень

в случае рвотного рефлекса от кода сделайте форк или коммит и поменяйте

работает на Nobara Linux 42 Kernel Version: 6.17.5-200.nobara.fc42.x86_64 (64-bit)

если у вас работает напишите в issues чтобы я добавил сюда с чем совместимо

если не работает так же напишите в issues но не обещаю что буду тут часто так что гугол в помощ

--------------------------------------------------------------------------------------------------

это форк https://github.com/Sergeydigl3/zapret-discord-youtube-linux 

с новым функционалом типа выбора ipset и игрового режима

который добавил https://github.com/Flowseal/zapret-discord-youtube 

так же добавил обновление nfqws модуля bol-van с https://github.com/bol-van/zapret 

--------------------------------------------------------------------------------------------------
Важно

	Скрипт работает только с nftables.

	При остановке скрипта все добавленные правила фаервола очищаются, а фоновые процессы nfqws останавливаются.
 
	Если у вас настроены кастомные правила в nftables, сделайте их резервное копирование — скрипт может удалить их при запуске.
	
--------------------------------------------------------------------------------------------------
   Первый запуск:
1) git clone https://github.com/triplesixdegrees/zapret-linux86_64.git
2) cd zapret-linux86_64
4) sudo bash main_script.sh ( если не работает попробуйте выдать права на запуск sudo chmod +x ./main_script.sh )
5) sudo chmod +x rename_bat.sh ( используйте его после обновления zapret-latest папки чтобы не ломались названия ./rename_bat.sh )
6) Вас спросят надо ли обновить zapret-latest папку и nfwqs файл если их нету в папке(они не идут с гитом) то нажмите Y
7) при cp: cannot create regular file '/home/YOUR_NAME/zapret-linux86_64/nfqws': Permission denied
Ошибка: Не удалось скопировать nfqws
чинится командой sudo chmod 777 nfqws в папке zapret-linux86_64
8) Затем вас спросят режим ipset у меня лично лучше всего работает ANY выберите 1 или 2 или 3
9) Следующая настройка Gamemode в случае использования запрета для игр Y если нет то N
10) Выбор стратегии я выбираю 1 (general.bat)
11) Выбор интерфейса (устройства по которому у вас подключен интернет) чтообы узнать нужный используйте ls /sys/class/net
12) Затем запустится обфускация проверьте twitch/youtube/discord если работает прекрасно запомните настройки ( или посмотрите в conf.enf)
13) ctrl+c чтобы отключить обфускацию

    
    Запуск сервиса:
1) Выполните первый запуск который был выше чтобы все обновилось настроилось и собрался conf.enf файл
2) ls чтобы посмотреть в той же ли вы директории что и были если нет cd zapret-linux86_64в
3) если в той же то sudo chmod +x ./service.sh
4) запуск создателя службы ./service.sh
5) если вас устраивают настройки написанные при первом запуске (conf.enf уже составлен) то выберите 1 если нет то
6) выберите 2 чтобы изменить конфигурацию чтобы заново поставить переменные (перезапишет conf.enf но не поменяет настройку ipset она меняется только в основном файле)
7) в случае выбора 2 скрипт закроется надо будет заново ./service.sh чтобы открыть и выбрать запуск сервиса (когда нибудь пофикшу)

--------------------------------------------------------------------------------------------------
   Проверка работы:
sudo nft list ruleset - узнать работает ли nftables правильно

systemctl status zapret_discord_youtube.service - проверить работу сервиса

https://hyperion-cs.github.io/dpi-checkers/ru/tcp-16-20/ - проверка определенных серверов (но сильно может зависеть от провайдера и настроек днс и файрвола не советую лучше попробовать на твиче ютубе дискорде и затем в игре)




   
